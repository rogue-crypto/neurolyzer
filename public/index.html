<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>NeuroLyzer | AI Skin Analysis</title> <link rel="preconnect" href="https://fonts.googleapis.com"> <link rel="preconnect" href="https://fonts.g

pasted

Please change the colorscheme completely name is NeuroLyzer make it striking using dm sans use gradients and animations keep background good and keep it optimzied keep logic same it is working only change frontend give me the code and make it look good remove mic logo its NEUROLYZER Make it look sigma make the footer only NeuroLyzer then all rights reserved nothing else

I'll redesign the NeuroLyzer website with a striking new color scheme while keeping the same functionality. I'll use DM Sans font, gradients, and animations to make it look more impressive.


NeuroLyzer Redesigned Website
Interactive artifact 




<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NeuroLyzer | AI Skin Analysis</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --gradient-primary: linear-gradient(135deg, #FF416C 0%, #FF4B2B 100%);
      --gradient-secondary: linear-gradient(135deg, #6157FF 0%, #2D31FA 100%);
      --gradient-accent: linear-gradient(135deg, #00CDAC 0%, #02AAB0 100%);
      --gradient-success: linear-gradient(135deg, #00B4DB 0%, #0083B0 100%);
      --gradient-button: linear-gradient(135deg, #FF416C 0%, #6157FF 100%);
      --color-text: #2d3748;
      --color-light: #f8fafc;
      --color-dark: #1a202c;
      --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
      --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
      --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
      --radius-sm: 0.375rem;
      --radius-md: 0.75rem;
      --radius-lg: 1.5rem;
      font-family: 'DM Sans', sans-serif;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'DM Sans', sans-serif;
      background-color: #0f172a;
      color: var(--color-light);
      line-height: 1.5;
      overflow-x: hidden;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1.5rem;
    }

    header {
      background: var(--gradient-secondary);
      padding: 1.5rem 0;
      position: relative;
      overflow: hidden;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    }

    header::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 60%);
      animation: pulse 12s ease-in-out infinite alternate;
      pointer-events: none;
    }

    @keyframes pulse {
      0% { transform: scale(0.95); opacity: 0.7; }
      50% { transform: scale(1); opacity: 1; }
      100% { transform: scale(0.95); opacity: 0.7; }
    }

    .logo {
      font-size: 1.75rem;
      font-weight: 700;
      color: white;
      display: flex;
      align-items: center;
      gap: 0.75rem;
      position: relative;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      letter-spacing: 1px;
    }

    .logo::after {
      content: '';
      position: absolute;
      bottom: -5px;
      left: 0;
      width: 100%;
      height: 2px;
      background: white;
      transform: scaleX(0);
      transform-origin: right;
      transition: transform 0.3s ease;
    }

    .logo:hover::after {
      transform: scaleX(1);
      transform-origin: left;
    }

    .upload-section {
      padding: 4rem 0;
      text-align: center;
      position: relative;
    }

    .upload-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(97, 87, 255, 0.05) 0%, rgba(255, 65, 108, 0.05) 100%);
      pointer-events: none;
    }

    h1 {
      font-size: 3rem;
      margin-bottom: 1.5rem;
      background: var(--gradient-primary);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: fadeIn 1.2s ease-out;
      font-weight: 700;
      letter-spacing: -0.5px;
      text-shadow: 0 2px 10px rgba(255, 65, 108, 0.3);
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    p.lead {
      font-size: 1.25rem;
      color: #94a3b8;
      max-width: 750px;
      margin: 0 auto 2.5rem;
      animation: fadeIn 1.2s ease-out 0.3s forwards;
      opacity: 0;
      line-height: 1.7;
    }

    .upload-container {
      background: rgba(30, 41, 59, 0.7);
      backdrop-filter: blur(10px);
      border-radius: var(--radius-lg);
      padding: 2.5rem;
      max-width: 800px;
      margin: 0 auto;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
      animation: slideUp 0.8s ease-out 0.5s forwards;
      opacity: 0;
      transform: translateY(30px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    @keyframes slideUp {
      to { opacity: 1; transform: translateY(0); }
    }

    .upload-area {
      border: 2px dashed rgba(255, 255, 255, 0.2);
      border-radius: var(--radius-md);
      padding: 3.5rem 1.5rem;
      transition: all 0.3s ease;
      position: relative;
      cursor: pointer;
    }

    .upload-area:hover {
      border-color: #FF416C;
      background-color: rgba(255, 65, 108, 0.05);
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(255, 65, 108, 0.1);
    }

    .upload-area.drag-over {
      border-color: #FF416C;
      background-color: rgba(255, 65, 108, 0.1);
    }

    .upload-icon {
      font-size: 3rem;
      color: #FF416C;
      margin-bottom: 1.5rem;
      animation: float 3s ease-in-out infinite;
    }

    @keyframes float {
      0% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
      100% { transform: translateY(0px); }
    }

    .upload-text {
      margin-bottom: 1.5rem;
      font-size: 1.1rem;
      color: #94a3b8;
    }

    input[type="file"] {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      opacity: 0;
      cursor: pointer;
    }

    .upload-btn {
      background: var(--gradient-button);
      color: white;
      border: none;
      border-radius: var(--radius-md);
      padding: 0.875rem 2rem;
      font-size: 1rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(255, 65, 108, 0.4);
      position: relative;
      overflow: hidden;
    }

    .upload-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: all 0.6s;
    }

    .upload-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 7px 20px rgba(255, 65, 108, 0.5);
    }

    .upload-btn:hover::before {
      left: 100%;
    }

    .preview-section {
      margin-top: 2.5rem;
      display: none;
    }

    .preview-section h3 {
      margin-bottom: 1.5rem;
      color: #e2e8f0;
      font-weight: 500;
    }

    .preview-container {
      display: flex;
      gap: 1.25rem;
      flex-wrap: wrap;
      margin-bottom: 1.5rem;
      justify-content: center;
    }

    .preview-item {
      position: relative;
      border-radius: var(--radius-md);
      overflow: hidden;
      width: 150px;
      height: 150px;
      box-shadow: var(--shadow-lg);
      animation: fadeIn 0.3s ease-out;
      transition: all 0.3s ease;
      border: 2px solid transparent;
    }

    .preview-item:hover {
      transform: scale(1.05);
      border-color: rgba(255, 65, 108, 0.5);
    }

    .preview-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .preview-remove {
      position: absolute;
      top: 0.5rem;
      right: 0.5rem;
      background: rgba(0, 0, 0, 0.6);
      color: white;
      border: none;
      width: 26px;
      height: 26px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 0.875rem;
      transition: all 0.2s ease;
    }

    .preview-remove:hover {
      background: #FF416C;
      transform: rotate(90deg);
    }

    .analyze-btn {
      background: var(--gradient-button);
      color: white;
      border: none;
      border-radius: var(--radius-md);
      padding: 1.125rem 2.5rem;
      font-size: 1.125rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(255, 65, 108, 0.4);
      margin-top: 1.5rem;
      position: relative;
      overflow: hidden;
      letter-spacing: 0.5px;
    }

    .analyze-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: all 0.6s;
    }

    .analyze-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 7px 20px rgba(255, 65, 108, 0.5);
    }

    .analyze-btn:hover::before {
      left: 100%;
    }

    .loading-section {
      display: none;
      text-align: center;
      padding: 5rem 0;
    }

    .loader {
      display: inline-block;
      width: 100px;
      height: 100px;
      margin-bottom: 2.5rem;
    }

    .loader::after {
      content: " ";
      display: block;
      width: 80px;
      height: 80px;
      margin: 8px;
      border-radius: 50%;
      border: 6px solid;
      border-color: #FF416C transparent #6157FF transparent;
      animation: spin 1.2s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .loading-text {
      font-size: 1.25rem;
      color: #94a3b8;
      animation: pulse 1.5s ease-in-out infinite alternate;
    }

    .results-section {
      display: none;
      padding: 4rem 0;
    }

    .results-section h2 {
      font-size: 2.5rem;
      margin-bottom: 2.5rem;
      background: var(--gradient-accent);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-align: center;
      animation: fadeIn 1s ease-out;
    }

    .results-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: 2.5rem;
      margin-top: 2.5rem;
    }

    .result-card {
      background: rgba(30, 41, 59, 0.7);
      backdrop-filter: blur(10px);
      border-radius: var(--radius-lg);
      overflow: hidden;
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      animation: fadeIn 0.5s ease-out;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .result-card:hover {
      transform: translateY(-10px);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.6);
    }

    .result-image {
      width: 100%;
      height: 280px;
      object-fit: cover;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      transition: all 0.3s ease;
    }

    .result-card:hover .result-image {
      filter: brightness(1.1);
    }

    .result-content {
      padding: 2rem;
    }

    .result-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 1.5rem;
    }

    .result-title {
      font-size: 1.25rem;
      font-weight: 700;
      color: white;
    }

    .result-timestamp {
      font-size: 0.875rem;
      color: #94a3b8;
    }

    .skin-type {
      display: inline-block;
      padding: 0.375rem 1.25rem;
      background: var(--gradient-primary);
      color: white;
      border-radius: var(--radius-sm);
      font-weight: 600;
      margin-bottom: 1.5rem;
      box-shadow: 0 3px 10px rgba(255, 65, 108, 0.3);
      letter-spacing: 0.5px;
    }

    .condition-section h4 {
      margin-bottom: 1rem;
      font-size: 1.125rem;
      color: #e2e8f0;
    }

    .condition-list {
      display: flex;
      flex-direction: column;
      gap: 0.875rem;
      margin-bottom: 2rem;
    }

    .condition-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: rgba(15, 23, 42, 0.6);
      padding: 1rem 1.25rem;
      border-radius: var(--radius-sm);
      border-left: 3px solid #6157FF;
      transition: all 0.3s ease;
    }

    .condition-item:hover {
      background: rgba(15, 23, 42, 0.8);
      transform: translateX(5px);
    }

    .condition-name {
      font-weight: 500;
      color: #e2e8f0;
    }

    .condition-confidence {
      width: 100px;
      height: 8px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 4px;
      overflow: hidden;
      position: relative;
    }

    .confidence-bar {
      height: 100%;
      background: var(--gradient-primary);
      border-radius: 4px;
      transition: width 1.5s cubic-bezier(0.25, 1, 0.5, 1);
    }

    .product-recommendations {
      margin-top: 2rem;
    }

    .product-recommendations h4 {
      margin-bottom: 1rem;
      font-size: 1.125rem;
      color: #e2e8f0;
    }

    .product-list {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .product-item {
      background: rgba(15, 23, 42, 0.6);
      padding: 1.25rem;
      border-radius: var(--radius-sm);
      border-left: 3px solid #00CDAC;
      transition: all 0.3s ease;
    }

    .product-item:hover {
      background: rgba(15, 23, 42, 0.8);
      transform: translateX(5px);
    }

    .product-category {
      font-weight: 600;
      margin-bottom: 0.75rem;
      color: #e2e8f0;
    }

    .product-recommendation {
      font-size: 0.95rem;
      margin-bottom: 0.75rem;
      color: #94a3b8;
    }

    .ingredients-list {
      display: flex;
      flex-wrap: wrap;
      gap: 0.375rem;
      margin-top: 1rem;
    }

    .ingredient-tag {
      font-size: 0.75rem;
      padding: 0.25rem 0.75rem;
      background: var(--gradient-secondary);
      color: white;
      border-radius: var(--radius-sm);
      transition: all 0.3s ease;
    }

    .ingredient-tag:hover {
      transform: translateY(-2px);
      box-shadow: 0 3px 10px rgba(97, 87, 255, 0.3);
    }

    .personalized-advice {
      margin-top: 2rem;
      padding: 1.25rem;
      background: rgba(15, 23, 42, 0.6);
      border-left: 3px solid #FF416C;
      border-radius: var(--radius-sm);
      transition: all 0.3s ease;
    }

    .personalized-advice:hover {
      background: rgba(15, 23, 42, 0.8);
      transform: translateX(5px);
    }

    .advice-header {
      font-weight: 600;
      margin-bottom: 0.75rem;
      color: #e2e8f0;
    }

    .new-analysis-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      background: var(--gradient-button);
      color: white;
      border: none;
      border-radius: var(--radius-md);
      padding: 1rem 2rem;
      font-size: 1.125rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(255, 65, 108, 0.4);
      margin-top: 3rem;
      position: relative;
      overflow: hidden;
      display: block;
      margin-left: auto;
      margin-right: auto;
    }
    
    .new-analysis-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: all 0.6s;
    }

    .new-analysis-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 7px 20px rgba(255, 65, 108, 0.5);
    }

    .new-analysis-btn:hover::before {
      left: 100%;
    }

    footer {
      background: var(--gradient-secondary);
      color: white;
      padding: 2rem 0;
      margin-top: 4rem;
      position: relative;
      overflow: hidden;
    }

    footer::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
      opacity: 0.1;
    }

    .footer-content {
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .footer-logo {
      font-size: 1.75rem;
      font-weight: 700;
      background: linear-gradient(135deg, #FFF 0%, #CCC 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      letter-spacing: 1px;
    }

    .footer-copy {
      text-align: center;
      margin-top: 1.5rem;
      font-size: 0.875rem;
      opacity: 0.8;
    }

    /* Media Queries */
    @media (max-width: 768px) {
      h1 {
        font-size: 2.25rem;
      }
      
      .results-grid {
        grid-template-columns: 1fr;
      }
      
      .footer-content {
        flex-direction: column;
        gap: 1rem;
      }
    }

    .severity-tag {
      display: inline-block;
      padding: 0.25rem 0.75rem;
      border-radius: var(--radius-sm);
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
      margin-left: 0.75rem;
      letter-spacing: 0.5px;
    }

    .severity-mild {
      background: var(--gradient-success);
      color: white;
    }

    .severity-moderate {
      background: linear-gradient(135deg, #FFD36A 0%, #FFB302 100%);
      color: #663c00;
    }

    .severity-severe {
      background: var(--gradient-primary);
      color: white;
    }

    .error-message {
      display: none;
      background: linear-gradient(135deg, #FF416C 0%, #FF4B2B 100%);
      color: white;
      padding: 1.25rem;
      border-radius: var(--radius-md);
      margin-top: 1.5rem;
      text-align: center;
      animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
    }
    
    @keyframes shake {
      10%, 90% { transform: translate3d(-1px, 0, 0); }
      20%, 80% { transform: translate3d(2px, 0, 0); }
      30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
      40%, 60% { transform: translate3d(4px, 0, 0); }
    }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <div class="logo">NEUROLYZER</div>
    </div>
  </header>

  <main>
    <section class="upload-section">
      <div class="container">
        <h1>AI-Powered Skin Analysis</h1>
        <p class="lead">Upload photos of your skin and get personalized insights, recommendations, and care advice powered by our cutting-edge AI technology.</p>
        
        <div class="upload-container">
          <div class="upload-area" id="uploadArea">
            <div class="upload-icon">
              <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                <polyline points="17 8 12 3 7 8"></polyline>
                <line x1="12" y1="3" x2="12" y2="15"></line>
              </svg>
            </div>
            <p class="upload-text">Drag and drop your skin photos here</p>
            <button class="upload-btn">Choose Files</button>
            <input type="file" id="fileInput" multiple accept="image/*">
          </div>
          
          <div class="preview-section" id="previewSection">
            <h3>Selected Images</h3>
            <div class="preview-container" id="previewContainer"></div>
            <button class="analyze-btn" id="analyzeBtn">Analyze Skin</button>
          </div>
          
          <div class="error-message" id="errorMessage"></div>
        </div>
      </div>
    </section>

    <section class="loading-section" id="loadingSection">
      <div class="container">
        <div class="loader"></div>
        <p class="loading-text">Analyzing your skin...</p>
      </div>
    </section>

    <section class="results-section" id="resultsSection">
      <div class="container">
        <h2>Your Skin Analysis Results</h2>
        <div class="results-grid" id="resultsGrid"></div>
        <button class="new-analysis-btn" id="newAnalysisBtn">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M3 2v6h6"></path>
            <path d="M3 13a9 9 0 1 0 3-7.5L3 8"></path>
          </svg>
          Start New Analysis
        </button>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <div class="footer-content">
        <div class="footer-logo">NEUROLYZER</div>
      </div>
      <div class="footer-copy">© 2025 NEUROLYZER. All rights reserved.</div>
    </div>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // DOM Elements
      const uploadArea = document.getElementById('uploadArea');
      const fileInput = document.getElementById('fileInput');
      const previewSection = document.getElementById('previewSection');
      const previewContainer = document.getElementById('previewContainer');
      const analyzeBtn = document.getElementById('analyzeBtn');
      const loadingSection = document.getElementById('loadingSection');
      const resultsSection = document.getElementById('resultsSection');
      const resultsGrid = document.getElementById('resultsGrid');
      const newAnalysisBtn = document.getElementById('newAnalysisBtn');
      const errorMessage = document.getElementById('errorMessage');

      // Selected files storage
      let selectedFiles = [];

      // Drag and drop functionality
      ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
        uploadArea.addEventListener(eventName, preventDefaults, false);
      });

      function preventDefaults(e) {
        e.preventDefault();
        e.stopPropagation();
      }

      ['dragenter', 'dragover'].forEach(eventName => {
        uploadArea.addEventListener(eventName, () => {
          uploadArea.classList.add('drag-over');
        }, false);
      });

      ['dragleave', 'drop'].forEach(eventName => {
        uploadArea.addEventListener(eventName, () => {
          uploadArea.classList.remove('drag-over');
        }, false);
      });

      uploadArea.addEventListener('drop', handleDrop, false);

      function handleDrop(e) {
        const dt = e.dataTransfer;
        const files = dt.files;
        handleFiles(files);
      }

      // File input change handler
      fileInput.addEventListener('change', (e) => {
        handleFiles(e.target.files);
      });

      // Handle files selection
      function handleFiles(files) {
        if (files.length === 0) return;
        
        // Filter for images only
        const imageFiles = Array.from(files).filter(file => file.type.startsWith('image/'));
        
        if (imageFiles.length === 0) {
          showError("Please select image files only");
          return;
        }
        
        // Add to selected files
        selectedFiles = [...selectedFiles, ...imageFiles];
        
        // Preview files
        previewFiles();
        
        // Reset input
        fileInput.value = '';
      }

      // Preview selected files
      function previewFiles() {
        previewContainer.innerHTML = '';
        
        selectedFiles.forEach((file, index) => {
          const reader = new FileReader();
          
          reader.onload = (e) => {
            const previewItem = document.createElement('div');
            previewItem.className = 'preview-item';
            previewItem.innerHTML = `
              <img src="${e.target.result}" alt="Preview">
              <button class="preview-remove" data-index="${index}">×</button>
            `;
            previewContainer.appendChild(previewItem);
            
            // Add remove button event
            previewItem.querySelector('.preview-remove').addEventListener('click', (e) => {
              const idx = parseInt(e.target.getAttribute('data-index'));
              removeFile(idx);
            });
          };
          
          reader.readAsDataURL(file);
        });
        
        // Display preview section
        if (selectedFiles.length > 0) {
          previewSection.style.display = 'block';
        } else {
          previewSection.style.display = 'none';
        }
      }

      // Remove file from selection
      function removeFile(index) {
        selectedFiles.splice(index, 1);
        previewFiles();
      }

      // Analyze button click handler
      analyzeBtn.addEventListener('click', async () => {
        if (selectedFiles.length === 0) {
          showError("Please select at least one image");
          return;
        }
        
        // Show loading
        previewSection.style.display = 'none';
        loadingSection.style.display = 'block';
        errorMessage.style.display = 'none';
        
        try {
          const results = await analyzeImages(selectedFiles);
          displayResults(results);
        } catch (error) {
          showError("Error analyzing images. Please try again.");
          previewSection.style.display = 'block';
          loadingSection.style.display = 'none';
          console.error(error);
        }
      });

      // New analysis button click handler
      newAnalysisBtn.addEventListener('click', () => {
        resultsSection.style.display = 'none';
        selectedFiles = [];
        previewFiles();
        errorMessage.style.display = 'none';
        
        // Show upload section
        previewSection.style.display = 'none';
        document.querySelector('.upload-section').scrollIntoView({ behavior: 'smooth' });
      });

      // Function to show error message
      function showError(message) {
        errorMessage.textContent = message;
        errorMessage.style.display = 'block';
        
        // Hide after 5 seconds
        setTimeout(() => {
          errorMessage.style.display = 'none';
        }, 5000);
      }

      // Function to analyze images with API
      async function analyzeImages(files) {
        const formData = new FormData();
        
        files.forEach(file => {
          formData.append('images', file);
        });
        
        const response = await fetch('/api/analyze', {
          method: 'POST',
          body: formData
        });
        
        if (!response.ok) {
          throw new Error('API request failed');
        }
        
        return await response.json();
      }

      // Function to display analysis results
      function displayResults(data) {
        // Hide loading
        loadingSection.style.display = 'none';
        
        // Clear previous results
        resultsGrid.innerHTML = '';
        
        // Create result cards
        data.results.forEach((result, index) => {
          // Create a blob URL for the image
          const imageUrl = URL.createObjectURL(selectedFiles[index]);
          
          // Format timestamp
          const timestamp = new Date(result.timestamp).toLocaleString();
          
          // Create result card
          const resultCard = document.createElement('div');
          resultCard.className = 'result-card';
          
          const analysis = result.analysis;
          
          resultCard.innerHTML = `
            <img src="${imageUrl}" alt="Analyzed skin" class="result-image">
            <div class="result-content">
              <div class="result-header">
                <div class="result-timestamp">${timestamp}</div>
              </div>
              
              <div class="skin-type">${analysis.skin_type.toUpperCase()} SKIN</div>
              
              <p>Description: ${analysis.overall_condition}</p>
              
              <div class="condition-section">
                <h4>Detected Conditions</h4>
                <div class="condition-list">
                  ${analysis.detected_conditions.map(condition => `
                    <div class="condition-item">
                      <div>
                        <span class="condition-name">${condition.condition_name}</span>
                        <span class="severity-tag severity-${condition.severity.toLowerCase()}">${condition.severity}</span>
                      </div>
                      <div class="condition-confidence">
                        <div class="confidence-bar" style="width: ${condition.confidence * 100}%"></div>
                      </div>
                    </div>
                  `).join('')}
                </div>
              </div>
              
              <div class="product-recommendations">
                <h4>Recommended Products</h4>
                <div class="product-list">
                  ${analysis.recommended_products.map(product => `
                    <div class="product-item">
                      <div class="product-category">${product.category}</div>
                      <div class="product-recommendation">${product.recommendation}</div>
                      <div class="ingredients-list">
                        Ingredients to look for: ${product.ingredients_to_look_for.map(ingredient => `
                          <span class="ingredient-tag">${ingredient}</span>
                        `).join('')}
                      </div>
                    </div>
                  `).join('')}
                </div>
              </div>
              
              <div class="personalized-advice">
                <div class="advice-header">Personalized Advice</div>
                <p>${analysis.personalized_advice}</p>
              </div>
            </div>
          `;
          
          resultsGrid.appendChild(resultCard);
        });
        
        // Show results section
        resultsSection.style.display = 'block';
        
        // Animate confidence bars after a short delay
        setTimeout(() => {
          document.querySelectorAll('.confidence-bar').forEach(bar => {
            bar.style.width = bar.style.width;
          });
        }, 300);
        
        // Scroll to results
        resultsSection.scrollIntoView({ behavior: 'smooth' });
      }
    });
  </script>
</body>
</html>
